{"version":3,"sources":["App.js","serviceWorker.js","index.js"],"names":["graphCanvas","graphContext","math","require","Instruments","restrictedMath","create","all","restrictedEvaluate","evaluate","import","override","timingCanvas","timingContext","graphObject","Setup","this","plotsPerScreen","numGrids","scaleColour","lineJoin","window","innerWidth","WindowSizeChange","document","getElementById","getBoundingClientRect","width","innerHeight","height","upperLimitX","lowerLimitX","upperLimitY","lowerLimitY","pointInterval","setTransform","fontSize","functionWidth","minorScaleWidth","zoomRatio","lineWidth","strokeStyle","ChangeDefaultScaling","GraphCalculator","Scale","Math","abs","ExpressionValidifier","exprText","idIndex","exprObject","parse","symbolNodes","filter","node","isSymbolNode","operatorNodes","isOperatorNode","functionNodes","isFunctionNode","i","length","args","name","isBinary","isUnary","expressions","derivative","toString","calculate","input","expression","x","curGradient","prevGradient","curY","prevY","ClearAll","DrawAxes","prevPointInterval","z","curExpression","expr","curDerivative","validity","beginPath","colour","moveTo","domain","lowerLimitOfLoop","upperLimitOfLoop","sign","lineTo","stroke","ratio","scale","save","clearRect","fillStyle","fillRect","restore","roundedlowerLimitX","floor","roundedupperLimitX","ceil","roundedlowerLimitY","roundedupperLimitY","font","y","fillText","ShiftGraph","shiftByX","shiftByY","transform","expressionConstructor","timingGraphObject","beatsPerScreen","timeBetweenBeats","beat","audioSources","audioSource","timer","audioSourcesToPlay","CalculateNextNote","setTimeout","MoveTimerBarAndPlay","timerBarPosition","round","muteToggle","newFreq","push","changeFrequency","isNaN","play","instrumentList","names","splice","instrumentNumber","frequency","player","newVal","newInstrumentNumber","AllInputs","state","components","IDCount","possibleColourArray","lastColourPicked","prevState","setState","id","findIndex","el","changeInstrument","newValue","deleteFunction","delete","bind","createFunction","changeInstrumentFunction","changeDomainFunction","changeDomain","React","Component","InputBox","props","handleChangeDomain","handleCreate","handleDeleteFunction","handleDelete","ListGroup","map","comp","Item","className","key","ReactSlider","defaultValue","max","min","renderThumb","valueNow","onAfterChange","val","thumbClassName","trackClassName","pearling","Button","variant","onClick","aria-hidden","Accordion","Card","Header","Toggle","as","eventKey","Collapse","Body","InstrumentChooser","handleChange","newAudioType","value","Form","Control","onChange","index","Input","text","e","target","toLowerCase","InputGroup","Prepend","Text","style","backgroundColor","isInvalid","placeholder","type","DeleteButton","handleClick","Append","MuteButton","iconToShow","isMuted","changeMuteToggle","BPS","handleChangeBPS","Group","Label","TBB","handleChangeTBB","step","Graphs","graphCanvasRef","createRef","timingCanvasRef","windowWidth","dragCoords","pointerEventArray","prevPointDist","dragging","timesPerSecond","waiting","handleMouseDown","handleMouseMove","handleMouseUp","handleMouseOut","handleWheel","handleResize","handleMouseEnter","current","getContext","addEventListener","returnValue","preventDefault","passive","persist","clientX","clientY","pointerId","curPointDist","hypot","removeEventListener","deltaY","ref","onPointerDown","onPointerMove","onPointerUp","onPointerOut","onWheel","onPointerEnter","App","Container","fluid","Nav","fill","Row","Col","xs","lg","span","order","PureComponent","Boolean","location","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.674c0309.chunk.js","sourcesContent":["import React from 'react';\r\nimport './App.css';\r\nimport { derivative, parse } from 'mathjs';\r\nimport ReactSlider from 'react-slider';\r\nimport { create, all } from 'mathjs';\r\nimport { Col, Container, ListGroup, Row, Nav, Form, Accordion, InputGroup, Button, Card } from 'react-bootstrap';\r\n\r\n//#region Graph Actions\r\n\r\nlet graphCanvas;\r\nlet graphContext;\r\n\r\n\r\nconst math = require('mathjs');\r\nconst Instruments = require('webaudio-instruments');\r\nconst restrictedMath = create(all)\r\nconst restrictedEvaluate = restrictedMath.evaluate;\r\nrestrictedMath.import({\r\n  'import': function () { return },\r\n  'createUnit': function () { return },\r\n  'evaluate': function () { return },\r\n  'parse': function () { return },\r\n  'simplify': function () { return },\r\n  'derivative': function () { return },\r\n\r\n}, { override: true })\r\n\r\n\r\n\r\n\r\nlet graphObject = { // main object, with all graphCanvas manipulation methods\r\n\r\n  Setup: function () {\r\n\r\n\r\n    this.plotsPerScreen = 400; //TODO allow this to change for different processor strengths\r\n    this.numGrids = 20; // number of grid markings\r\n\r\n    this.scaleColour = \"#000D34\";\r\n\r\n    graphContext.lineJoin = \"round\";\r\n\r\n    if (window.innerWidth < 992) {\r\n      this.WindowSizeChange(document.getElementById('graphwrapper').getBoundingClientRect().width, window.innerHeight * 0.5);\r\n    }\r\n    else {\r\n      this.WindowSizeChange(window.innerWidth * 0.65, window.innerHeight);\r\n\r\n    }\r\n\r\n  },\r\n  WindowSizeChange: function (width, height) {\r\n    graphCanvas.width = width;\r\n    graphCanvas.height = height;\r\n    timingCanvas.width = width;\r\n    timingCanvas.height = height;\r\n\r\n    this.upperLimitX = graphCanvas.width / 2;\r\n    this.lowerLimitX = -graphCanvas.width / 2;\r\n    this.upperLimitY = graphCanvas.height / 2;\r\n    this.lowerLimitY = -graphCanvas.height / 2;\r\n    this.pointInterval = graphCanvas.width / this.plotsPerScreen; // changes for balance of smoothness of line with time to compute, decrease with more zoom increase with less zoom, by default 1000 plots per screen\r\n\r\n    graphContext.setTransform(1, 0, 0, -1, graphCanvas.width / 2, graphCanvas.height / 2); // inverts y-axis in order to increase as you move further up as in the cartesian plane\r\n    this.fontSize = 10;\r\n    this.functionWidth = \"0.5\";\r\n    this.minorScaleWidth = \"0.1\";\r\n    this.zoomRatio = 1; // each pixel equals one unit at the start\r\n    timingContext.lineWidth = 2;\r\n    timingContext.strokeStyle = \"#56DACC\";\r\n\r\n    this.ChangeDefaultScaling()\r\n\r\n    this.GraphCalculator();\r\n\r\n  },\r\n  ChangeDefaultScaling() {\r\n    if (this.lowerLimitX < -1000 || this.upperLimitX > 1000) {\r\n      this.Scale(2000 / (Math.abs(this.upperLimitX) + Math.abs(this.lowerLimitX)))\r\n\r\n    }\r\n\r\n  },\r\n  ExpressionValidifier(exprText, idIndex) { // checks expression before making calculations to avoid wasting resources\r\n    let exprObject;\r\n    try { // first test is to try and parse the expression\r\n      exprObject = parse(exprText)\r\n\r\n\r\n\r\n    } catch {\r\n      return false;\r\n    }\r\n    // second test is to see if all variables are x\r\n\r\n    let symbolNodes = exprObject.filter(function (node) {\r\n      return node.isSymbolNode\r\n    })\r\n    let operatorNodes = exprObject.filter(function (node) {\r\n      return node.isOperatorNode;\r\n    })\r\n    let functionNodes = exprObject.filter(function (node) {\r\n      return node.isFunctionNode;\r\n    })\r\n    // since symbolnodes are used for variables and functions, we must check that all symbolnodes are\r\n    // either x or a function, also check that no operation is done that has a symbolnode that is not x\r\n    for (let i = 0; i < functionNodes.length; i++) {\r\n      if (functionNodes[i].args.length < 1) {\r\n\r\n        return false;\r\n      }\r\n    }\r\n    if (symbolNodes.length > 0) {\r\n\r\n      for (let i = 0; i < symbolNodes.length; i++) {\r\n\r\n        if (symbolNodes[i].name === 'x' || symbolNodes[i].name in math) {\r\n\r\n\r\n        }\r\n        else {\r\n          return false;\r\n        }\r\n\r\n      }\r\n      for (let i = 0; i < operatorNodes.length; i++) { // check that no operation is done with non x symbolnode, otherwise tan * 4 etc would break it\r\n        if (operatorNodes[i].isBinary()) {\r\n          if (operatorNodes[i].args[0].isSymbolNode && operatorNodes[i].args[0].name !== 'x') {\r\n            return false;\r\n          }\r\n          if (operatorNodes[i].args[1].isSymbolNode && operatorNodes[i].args[1].name !== 'x') {\r\n            return false;\r\n          }\r\n        }\r\n        if (operatorNodes[i].isUnary()) { // protests from x! as no negative factorials allowed\r\n          if (operatorNodes[i].args[0].isSymbolNode) {\r\n\r\n            return false;\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n\r\n    //tests passed, expression valid\r\n\r\n    // get the derivative as well and add it as a property\r\n\r\n    try {\r\n      graphObject.expressions[idIndex].derivative = derivative(exprObject, \"x\").toString();\r\n\r\n    }\r\n    catch {\r\n    }\r\n\r\n\r\n\r\n    return true\r\n\r\n\r\n  },\r\n\r\n  calculate: function (input, expression) {\r\n\r\n    const scope = {\r\n      x: input\r\n    }\r\n\r\n    return restrictedEvaluate(expression, scope);\r\n\r\n\r\n  }\r\n  ,\r\n\r\n  GraphCalculator: function () { // drawing your own graphs \r\n    this.ClearAll();\r\n    this.DrawAxes();\r\n\r\n    let curGradient;\r\n    let prevGradient;\r\n\r\n    let curY;\r\n    let prevY;\r\n\r\n    let prevPointInterval = this.pointInterval;\r\n    graphContext.lineWidth = graphObject.functionWidth;\r\n\r\n    for (let z = 0; z < this.expressions.length; z++) {\r\n\r\n      let curExpression = this.expressions[z].expr;\r\n      let curDerivative = this.expressions[z].derivative;\r\n      if (this.expressions[z].validity === true) {\r\n\r\n        graphContext.beginPath();\r\n        graphContext.strokeStyle = this.expressions[z].colour;\r\n        graphContext.moveTo(this.expressions[z].domain[0], this.calculate(this.expressions[z].domain[0], curExpression));\r\n\r\n        let lowerLimitOfLoop;\r\n        let upperLimitOfLoop;\r\n        if (this.expressions[z].domain[0] > this.lowerLimitX) { // checks if domain or edge of canvas is closer and sets it to the limits of the loop\r\n          lowerLimitOfLoop = this.expressions[z].domain[0];\r\n        } else {\r\n          lowerLimitOfLoop = this.lowerLimitX;\r\n        }\r\n        if (this.expressions[z].domain[1] < this.upperLimitX) {\r\n          upperLimitOfLoop = this.expressions[z].domain[1];\r\n        } else {\r\n          upperLimitOfLoop = this.upperLimitX;\r\n        }\r\n\r\n        for (let i = lowerLimitOfLoop; i < upperLimitOfLoop; i += this.pointInterval) {\r\n\r\n          curY = this.calculate(i, curExpression)\r\n          curGradient = this.calculate(i, curDerivative);\r\n\r\n          if (Math.sign(curGradient) === -1 && Math.sign(prevGradient) === -1 && curY > prevY) {\r\n            graphContext.lineTo(i, -10000);\r\n            graphContext.stroke();\r\n            graphContext.beginPath();\r\n            graphContext.moveTo(i + 0.001, 10000);\r\n          }\r\n          else if (Math.sign(curGradient) === 1 && Math.sign(prevGradient) === 1 && curY < prevY) {\r\n            graphContext.lineTo(i, 10000);\r\n            graphContext.stroke();\r\n            graphContext.beginPath();\r\n            graphContext.moveTo(i + 0.001, -10000);\r\n\r\n          }\r\n          else {\r\n            graphContext.lineTo(i, curY);\r\n\r\n          }\r\n\r\n\r\n          prevY = curY;\r\n          prevGradient = curGradient;\r\n\r\n\r\n\r\n\r\n        }\r\n\r\n        graphContext.stroke();\r\n        this.pointInterval = prevPointInterval;\r\n\r\n      }\r\n\r\n    }\r\n\r\n  },\r\n\r\n\r\n  Scale: function (ratio) {\r\n    if (this.upperLimitX * ratio > 1000) {\r\n      ratio = 1000 / this.upperLimitX\r\n    }\r\n    if (this.lowerLimitX * ratio < -1000) {\r\n      ratio = -1000 / this.lowerLimitX\r\n\r\n    }\r\n    this.pointInterval *= ratio;\r\n    this.zoomRatio *= ratio;\r\n    this.fontSize *= ratio;\r\n    graphContext.scale(1 / ratio, 1 / ratio);\r\n    this.lowerLimitX *= ratio;\r\n\r\n    this.upperLimitX *= ratio;\r\n    this.lowerLimitY *= ratio;\r\n    this.upperLimitY *= ratio;\r\n    this.functionWidth *= ratio;\r\n    this.minorScaleWidth *= ratio;\r\n    this.GraphCalculator();\r\n\r\n  },\r\n  ClearAll: function () {\r\n    graphContext.save();\r\n    graphContext.setTransform(1, 0, 0, 1, 0, 0);\r\n    graphContext.clearRect(0, 0, graphCanvas.width, graphCanvas.height);\r\n    graphContext.fillStyle = \"white\";\r\n    graphContext.fillRect(0, 0, graphCanvas.width, graphCanvas.height);\r\n    graphContext.restore();\r\n  },\r\n\r\n  DrawAxes: function () {\r\n\r\n    graphContext.beginPath(); // axes\r\n    graphContext.strokeStyle = graphObject.scaleColour;\r\n    graphContext.lineWidth = graphObject.functionWidth;\r\n\r\n    graphContext.moveTo(this.lowerLimitX, 0);\r\n    graphContext.lineTo(this.upperLimitX, 0);\r\n\r\n    graphContext.moveTo(0, this.upperLimitY);\r\n    graphContext.lineTo(0, this.lowerLimitY);\r\n\r\n    graphContext.stroke();\r\n\r\n\r\n    const roundedlowerLimitX = Math.floor(this.lowerLimitX / 1000) * 1000; // setup for minor axes\r\n    const roundedupperLimitX = Math.ceil(this.upperLimitX / 1000) * 1000;\r\n    const roundedlowerLimitY = Math.floor(this.lowerLimitY / 1000) * 1000;\r\n    const roundedupperLimitY = Math.ceil(this.upperLimitY / 1000) * 1000;\r\n\r\n\r\n    graphContext.font = this.fontSize + 'px sans-serif';\r\n    graphContext.fillStyle = graphObject.scaleColour;\r\n    graphContext.lineWidth = graphObject.minorScaleWidth;\r\n\r\n\r\n    for (let x = roundedlowerLimitX; x < roundedupperLimitX; x += 100) { // minor axes\r\n\r\n      graphContext.moveTo(x, this.upperLimitY);\r\n      graphContext.lineTo(x, this.lowerLimitY);\r\n\r\n\r\n    }\r\n\r\n    for (let y = roundedlowerLimitY; y < roundedupperLimitY; y += 100) {\r\n\r\n      graphContext.moveTo(this.lowerLimitX, y);\r\n      graphContext.lineTo(this.upperLimitX, y);\r\n\r\n    }\r\n\r\n    graphContext.stroke();\r\n\r\n    graphContext.save();\r\n    graphContext.scale(1, -1);\r\n\r\n\r\n    for (let x = roundedlowerLimitX; x < roundedupperLimitX; x += 100) { // numbering\r\n\r\n\r\n      graphContext.fillText(x, x, -1);\r\n\r\n    }\r\n\r\n    for (let y = roundedlowerLimitY; y < roundedupperLimitY; y += 100) { // numbering\r\n\r\n\r\n      graphContext.fillText(y, 1, -y);\r\n\r\n    }\r\n\r\n    graphContext.restore();\r\n\r\n\r\n  },\r\n  ShiftGraph: function (shiftByX, shiftByY) {\r\n\r\n    shiftByX *= this.zoomRatio;\r\n    shiftByY *= this.zoomRatio;\r\n    if (this.upperLimitX - shiftByX > 1000) {\r\n      shiftByX = 0\r\n    }\r\n    if (this.lowerLimitX - shiftByX < -1000) {\r\n      shiftByX = 0\r\n\r\n    }\r\n\r\n\r\n    graphContext.transform(1, 0, 0, 1, shiftByX, shiftByY);\r\n    this.upperLimitX -= shiftByX;\r\n    this.lowerLimitX -= shiftByX;\r\n    this.upperLimitY -= shiftByY;\r\n    this.lowerLimitY -= shiftByY;\r\n    this.GraphCalculator();\r\n\r\n\r\n  },\r\n\r\n\r\n}\r\n\r\nclass expressionConstructor {\r\n  constructor(expr, domain, colour) {\r\n    this.expr = expr;\r\n    this.domain = domain\r\n    this.colour = colour\r\n  }\r\n\r\n}\r\n//#endregion\r\n\r\n\r\n//#region Timing graph\r\nlet timingCanvas;\r\nlet timingContext;\r\n\r\n\r\nlet timingGraphObject = {\r\n  Setup: function () {\r\n\r\n\r\n    this.beatsPerScreen = 8 + 1; // one less than true\r\n    this.timeBetweenBeats = 1000; // in milliseconds\r\n    this.beat = 1;\r\n    this.audioSources = [new audioSource()]; // default first instrument/graph\r\n    this.timer = 0;\r\n    this.audioSourcesToPlay = [];\r\n    this.CalculateNextNote();\r\n\r\n\r\n  },\r\n  CalculateNextNote() {\r\n    this.timer = setTimeout(() => {\r\n      this.MoveTimerBarAndPlay();\r\n    }, this.timeBetweenBeats);\r\n\r\n\r\n    if (this.beat >= this.beatsPerScreen) {\r\n      this.beat = 1;\r\n    }\r\n\r\n    this.beat++;\r\n    let timerBarPosition = Math.round(graphObject.lowerLimitX + (graphObject.upperLimitX - graphObject.lowerLimitX) / this.beatsPerScreen * (this.beat))\r\n\r\n    for (let i = 0; i < this.audioSources.length; i++) {\r\n      if (graphObject.expressions[i].validity === true && timerBarPosition >= graphObject.expressions[i].domain[0] && timerBarPosition <= graphObject.expressions[i].domain[1] && this.audioSources[i].muteToggle === false) {\r\n        let newFreq = graphObject.calculate(timerBarPosition, graphObject.expressions[i].expr);\r\n        this.audioSourcesToPlay.push(this.audioSources[i]);\r\n        if (newFreq <= -12000) {\r\n          this.audioSources[i].changeFrequency(-12000);\r\n\r\n        }\r\n        else if (newFreq >= 12000) {\r\n          this.audioSources[i].changeFrequency(12000);\r\n\r\n\r\n        }\r\n        else if (isNaN(newFreq) === false) {\r\n          this.audioSources[i].changeFrequency(newFreq);\r\n\r\n\r\n        }\r\n\r\n      }\r\n    }\r\n\r\n\r\n\r\n  },\r\n  MoveTimerBarAndPlay() {\r\n    timingContext.clearRect(0, 0, graphCanvas.width, graphCanvas.height);\r\n\r\n    timingContext.beginPath();\r\n    timingContext.moveTo(graphCanvas.width / this.beatsPerScreen * this.beat, 0);\r\n    timingContext.lineTo(graphCanvas.width / this.beatsPerScreen * this.beat, graphCanvas.height);\r\n    timingContext.stroke();\r\n\r\n    for (let i = 0; i < this.audioSourcesToPlay.length; i++) {\r\n      timingGraphObject.audioSourcesToPlay[i].play();\r\n    }\r\n    this.audioSourcesToPlay = [];\r\n\r\n\r\n    this.CalculateNextNote();\r\n  }\r\n}\r\n//#endregion\r\n\r\n//#region Audio\r\n\r\nlet instrumentList = new Instruments().names.splice(0, 127);\r\n\r\nclass audioSource {\r\n  constructor() {\r\n\r\n    this.instrumentNumber = 0; // default\r\n    this.frequency = 0;\r\n    this.player = new Instruments();\r\n    this.muteToggle = false;\r\n\r\n\r\n  }\r\n  play() {\r\n    if (this.muteToggle === false) {\r\n      this.player.play(this.instrumentNumber, this.frequency, 1, 0, 0.5)\r\n\r\n\r\n    }\r\n\r\n  }\r\n  changeFrequency(newFreq) {\r\n\r\n    this.frequency = Math.abs(newFreq);\r\n  }\r\n  changeMuteToggle(newVal) {\r\n    this.muteToggle = newVal;\r\n  }\r\n  changeInstrument(newInstrumentNumber) {\r\n\r\n\r\n    this.instrumentNumber = newInstrumentNumber;\r\n  }\r\n\r\n\r\n\r\n}\r\n\r\n//#endregion\r\n\r\n//#region React components\r\nclass AllInputs extends React.Component {\r\n\r\n  constructor() {\r\n    super()\r\n    this.state = { components: [0] };\r\n    this.IDCount = 0;\r\n    this.possibleColourArray = [\"#2F2980\", \"#0476D9\", \"#56DACC\", \"#8C186D\", \"#F23535\", \"#ffffff\"]\r\n    this.lastColourPicked = 0;\r\n  }\r\n  create() {\r\n    let prevState = this.state.components;\r\n    this.IDCount++;\r\n    prevState.push(this.IDCount)\r\n    graphObject.expressions.push(new expressionConstructor(\"\", [-1000, 1000], this.possibleColourArray[this.lastColourPicked]));\r\n    if (this.lastColourPicked === 4) {\r\n      this.lastColourPicked = 0;\r\n\r\n    } else {\r\n      this.lastColourPicked++;\r\n\r\n    }\r\n    timingGraphObject.audioSources.push(new audioSource())\r\n    this.setState({ components: prevState });\r\n  }\r\n\r\n  delete(id) {\r\n    let prevState = this.state.components\r\n    let idIndex = prevState.findIndex(el => el === id);\r\n    prevState.splice(idIndex, 1);\r\n    graphObject.expressions.splice(idIndex, 1);\r\n    timingGraphObject.audioSources.splice(idIndex, 1);\r\n    this.setState({ components: prevState });\r\n    graphObject.GraphCalculator();\r\n  }\r\n  changeInstrument(id, newInstrumentNumber) {\r\n    let idIndex = this.state.components.findIndex(el => el === id);\r\n    timingGraphObject.audioSources[idIndex].changeInstrument(newInstrumentNumber);\r\n\r\n  }\r\n  changeDomain(id, newValue) {\r\n    let idIndex = this.state.components.findIndex(el => el === id);\r\n    graphObject.expressions[idIndex].domain = newValue;\r\n    graphObject.GraphCalculator();\r\n\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n\r\n      <InputBox components={this.state.components} deleteFunction={this.delete.bind(this)}\r\n        createFunction={this.create.bind(this)} changeInstrumentFunction={this.changeInstrument.bind(this)} changeDomainFunction={this.changeDomain.bind(this)}\r\n      />\r\n\r\n\r\n\r\n    )\r\n  }\r\n\r\n}\r\n\r\nclass InputBox extends React.Component { // where we type in the function and clear\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.handleChangeDomain = this.handleChangeDomain.bind(this);\r\n    this.handleCreate = this.handleCreate.bind(this);\r\n    this.handleDeleteFunction = this.handleDelete.bind(this);\r\n\r\n\r\n  }\r\n  handleCreate(id) {\r\n    this.props.createFunction(id);\r\n\r\n  }\r\n  handleDelete(id) {\r\n    this.props.deleteFunction(id);\r\n  }\r\n\r\n  handleChangeDomain(id, newValue) {\r\n\r\n    this.props.changeDomainFunction(id, newValue);\r\n\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <ListGroup>\r\n\r\n          {\r\n            this.props.components.map(comp =>\r\n              <ListGroup.Item className=\"ListGroupItem\" key={comp}>\r\n                <div >\r\n                  <Input components={this.props.components} id={comp} deleteFunction={this.handleDeleteFunction} />\r\n                  {\r\n                    <ReactSlider\r\n                      defaultValue={[-1000, 1000]}\r\n                      max={1000}\r\n                      min={-1000}\r\n                      renderThumb={(props, state) => <div {...props}>{state.valueNow}</div>}\r\n                      onAfterChange={val => { this.handleChangeDomain(comp, val); }}\r\n                      className=\"horizontal-slider-twohandle\"\r\n                      thumbClassName=\"sliderThumbTwoHandle\"\r\n                      trackClassName=\"sliderTrack\"\r\n                      pearling={true}\r\n\r\n                    />\r\n                  }\r\n                  <InstrumentChooser id={comp} changeInstrumentFunction={this.props.changeInstrumentFunction} />\r\n\r\n                </div>\r\n              </ListGroup.Item>\r\n\r\n            )\r\n\r\n          }\r\n        </ListGroup>\r\n        <Button className=\"newFunctionButton\" variant=\"dark\" onClick={this.handleCreate.bind(this)}>{<i className=\"fa fa-plus\" aria-hidden=\"true\"></i>}</Button>\r\n\r\n        <Accordion className=\"HelpAccordion\">\r\n          <Card>\r\n            <Card.Header>\r\n              <Accordion.Toggle as={Button} variant=\"dark\" eventKey=\"0\" className=\"HelpButton\">\r\n                About\r\n              </Accordion.Toggle>\r\n            </Card.Header>\r\n            <Accordion.Collapse eventKey=\"0\">\r\n              <Card.Body>\r\n                To make sounds, enter in any function with x as the only variable, like sin(x)*50 or x^3+x+24 or 400/x. A sound will be made where the vertical counting bar crosses any function.\r\n                <br />\r\n                <br />\r\n                The frequency of the sound will be the y value of the intersection of the function and vertical bar, this means that higher values will work better e.g sin(x)*50 rather than sin(x).\r\n                The Beats Per Screen slider at the top of screen amount of times the vertical bar will occur per screen.\r\n                The Time Per Beat slider controls the time between the vertical bar moving.\r\n                You can adjust the domain of the function with its slider below it, along with its instrument.\r\n                You can add as many functions as you like, click the plus button to create a new one, and the x button to delete one graph.\r\n                <br />\r\n                <br />\r\n\r\n                Just play around with it! Pick whatever instrument sounds interesting, fiddle around with the sliders\r\n                and make something that sounds cool!\r\n                <br />\r\n\r\n              </Card.Body>\r\n            </Accordion.Collapse>\r\n\r\n          </Card>\r\n\r\n        </Accordion>\r\n      </div >\r\n\r\n    )\r\n  }\r\n\r\n}\r\nclass InstrumentChooser extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleChange = this.handleChange.bind(this);\r\n\r\n  }\r\n  handleChange() {\r\n\r\n    let newAudioType = document.getElementById(this.props.id + \"audioType\").value;\r\n    this.props.changeInstrumentFunction(this.props.id, newAudioType);\r\n\r\n  }\r\n  render() {\r\n    return (\r\n      <Form.Control as=\"select\" onChange={this.handleChange} id={this.props.id + \"audioType\"}>\r\n        {\r\n          instrumentList.map((name, index) => {\r\n\r\n            return <option key={index} value={index}>{name}</option>\r\n\r\n          })\r\n        }\r\n      </Form.Control>\r\n\r\n\r\n\r\n    )\r\n  }\r\n\r\n}\r\n\r\nclass Input extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { text: \"\" };\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.idIndex = this.props.components.findIndex(el => el === this.props.id);\r\n    this.colour = graphObject.expressions[this.idIndex].colour;\r\n\r\n  }\r\n\r\n  handleChange(e) {\r\n\r\n\r\n    this.setState({ text: e.target.value });\r\n\r\n\r\n    graphObject.expressions[this.idIndex].expr = e.target.value.toLowerCase();\r\n    graphObject.expressions[this.idIndex].validity = false;\r\n    if (e.target.value === \"\") {\r\n      graphObject.expressions[this.idIndex].expr = \"\";\r\n      graphObject.expressions[this.idIndex].validity = false;\r\n      graphObject.GraphCalculator();\r\n    }\r\n    else if (graphObject.ExpressionValidifier(graphObject.expressions[this.idIndex].expr, this.idIndex) === true) {\r\n      graphObject.expressions[this.idIndex].validity = true;\r\n      graphObject.GraphCalculator();\r\n    }\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <InputGroup>\r\n        <InputGroup.Prepend>\r\n          <InputGroup.Text className=\"colourIndicator\" style={{ backgroundColor: this.colour }}> </InputGroup.Text>\r\n        </InputGroup.Prepend>\r\n        <Form.Control\r\n          className=\"Input\"\r\n          isInvalid={!graphObject.expressions[this.idIndex].validity}\r\n          placeholder=\"Enter function e.g 3x + 70\"\r\n          type=\"text\"\r\n          value={this.state.text}\r\n          onChange={this.handleChange}\r\n        />\r\n\r\n        <MuteButton id={this.props.id} components={this.props.components} />\r\n\r\n        <DeleteButton id={this.props.id} deleteFunction={this.props.deleteFunction} />\r\n\r\n      </InputGroup >\r\n\r\n\r\n    )\r\n  }\r\n}\r\nclass DeleteButton extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.handleClick = this.handleClick.bind(this);\r\n  }\r\n  handleClick() {\r\n    this.props.deleteFunction(this.props.id);\r\n  }\r\n  render() {\r\n    return (\r\n\r\n      <InputGroup.Append>\r\n\r\n        <Button variant=\"outline-dark\" onClick={this.handleClick}>{<i className=\"fa fa-times\" aria-hidden=\"true\"></i>}</Button>\r\n\r\n      </InputGroup.Append>\r\n\r\n\r\n    )\r\n  }\r\n\r\n}\r\nclass MuteButton extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.handleChange = this.handleChange.bind(this)\r\n    this.state = { iconToShow: \"fas fa-volume-up\", isMuted: false };\r\n\r\n\r\n  }\r\n\r\n\r\n  handleChange() {\r\n    let idIndex = this.props.components.findIndex(el => el === this.props.id);\r\n\r\n    if (this.state.isMuted === true) {\r\n      timingGraphObject.audioSources[idIndex].changeMuteToggle(false) // not muted\r\n      this.setState({ iconToShow: \"fas fa-volume-up\", isMuted: false });\r\n    }\r\n    else {\r\n      timingGraphObject.audioSources[idIndex].changeMuteToggle(true) // muted\r\n      this.setState({ iconToShow: \"fas fa-volume-mute\", isMuted: true });\r\n\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n\r\n\r\n      <InputGroup.Append>\r\n\r\n\r\n        <Button\r\n          variant=\"outline-dark\"\r\n\r\n\r\n          onClick={this.handleChange}\r\n        >\r\n          {<i className={this.state.iconToShow}></i>}\r\n        </Button>\r\n\r\n\r\n\r\n      </InputGroup.Append>\r\n\r\n\r\n    )\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\nclass BPS extends React.Component {\r\n\r\n  constructor() {\r\n    super()\r\n    this.handleChangeBPS = this.handleChangeBPS.bind(this);\r\n    this.state = { value: 50 };\r\n\r\n  }\r\n\r\n  handleChangeBPS(newVal) {\r\n    this.setState({ value: newVal });\r\n    timingGraphObject.beatsPerScreen = newVal;\r\n\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n\r\n      <Form>\r\n        <Form.Group className=\"Slider\">\r\n          <Form.Label className=\"label\">Beats Per Screen</Form.Label>\r\n\r\n\r\n          <ReactSlider\r\n            defaultValue={this.state.value}\r\n            max={100}\r\n            min={1}\r\n            renderThumb={(props, state) => <div {...props}>{state.value}</div>}\r\n            onChange={val => { this.handleChangeBPS(val); }}\r\n            className=\"horizontal-slider-onehandle\"\r\n            thumbClassName=\"sliderThumb\"\r\n            trackClassName=\"sliderTrack\"\r\n\r\n\r\n          />\r\n\r\n        </Form.Group>\r\n\r\n      </Form>\r\n\r\n\r\n    )\r\n  }\r\n\r\n}\r\nclass TBB extends React.Component {\r\n\r\n  constructor() {\r\n    super()\r\n\r\n    this.handleChangeTBB = this.handleChangeTBB.bind(this);\r\n    this.state = { value: 500 };\r\n  }\r\n\r\n  handleChangeTBB(newVal) {\r\n    this.setState({ value: newVal });\r\n    timingGraphObject.timeBetweenBeats = newVal;\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n\r\n      <Form>\r\n        <Form.Group className=\"Slider\">\r\n          <Form.Label className=\"label\">Time Between Beats</Form.Label>\r\n\r\n          <ReactSlider\r\n            defaultValue={this.state.value}\r\n            max={1000}\r\n            min={100}\r\n            renderThumb={(props, state) => <div {...props}>{state.value / 1000 + \"s\"}</div>}\r\n            onChange={val => { this.handleChangeTBB(val); }}\r\n            className=\"horizontal-slider-onehandle\"\r\n            step={100}\r\n            thumbClassName=\"sliderThumb\"\r\n            trackClassName=\"sliderTrack\"\r\n\r\n\r\n          />\r\n        </Form.Group>\r\n\r\n      </Form>\r\n\r\n\r\n\r\n    )\r\n  }\r\n\r\n}\r\n\r\nclass Graphs extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.graphCanvasRef = React.createRef();\r\n    this.timingCanvasRef = React.createRef();\r\n    this.windowWidth = window.innerWidth;\r\n    this.dragCoords = {\r\n      x: 0,\r\n      y: 0\r\n    };\r\n    this.pointerEventArray = [];\r\n    this.prevPointDist = -1;\r\n    this.dragging = false\r\n    this.timesPerSecond = 60;\r\n    this.waiting = false;\r\n\r\n    this.handleMouseDown = this.handleMouseDown.bind(this);\r\n    this.handleMouseMove = this.handleMouseMove.bind(this);\r\n    this.handleMouseUp = this.handleMouseUp.bind(this);\r\n    this.handleMouseOut = this.handleMouseOut.bind(this);\r\n    this.handleWheel = this.handleWheel.bind(this);\r\n    this.handleResize = this.handleResize.bind(this);\r\n    this.handleMouseEnter = this.handleMouseEnter.bind(this);\r\n\r\n\r\n\r\n  }\r\n  componentDidMount() {\r\n    graphCanvas = this.graphCanvasRef.current;\r\n    graphContext = this.graphCanvasRef.current.getContext('2d');\r\n\r\n    timingCanvas = this.timingCanvasRef.current;\r\n    timingContext = this.timingCanvasRef.current.getContext('2d');\r\n\r\n    window.addEventListener(\"resize\", this.handleResize)\r\n\r\n  }\r\n  preventDefault(e) {\r\n    e.returnValue = false;\r\n  }\r\n  handleMouseEnter() {\r\n    document.addEventListener('wheel', this.preventDefault, {\r\n      passive: false,\r\n    })\r\n  }\r\n  handleMouseDown(e) {\r\n    e.persist();\r\n    this.pointerEventArray.push(e);\r\n    this.dragging = true;\r\n    this.dragCoords = {\r\n      x: e.clientX,\r\n      y: e.clientY\r\n    }\r\n  }\r\n  handleMouseMove(e) {\r\n\r\n    if (this.waiting === false && this.dragging === true) { // throttling\r\n\r\n\r\n      e.persist();\r\n      for (let i = 0; i < this.pointerEventArray.length; i++) { // for handling a pinch gesture\r\n        if (e.pointerId === this.pointerEventArray[i].pointerId) {\r\n          this.pointerEventArray[i] = e;\r\n\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (this.pointerEventArray.length === 2) {\r\n        let curPointDist = Math.hypot(this.pointerEventArray[0].clientX - this.pointerEventArray[1].clientX, this.pointerEventArray[0].clientY - this.pointerEventArray[1].clientY);\r\n        if (this.prevPointDist > 0) {\r\n          if (curPointDist > this.prevPointDist) {\r\n\r\n            graphObject.Scale(0.9);\r\n\r\n          }\r\n          else if (curPointDist < this.prevPointDist) {\r\n\r\n            graphObject.Scale(1.1);\r\n\r\n          }\r\n        }\r\n\r\n\r\n        this.prevPointDist = curPointDist;\r\n        return;\r\n\r\n      }\r\n\r\n      if (this.dragging === true) {\r\n        graphObject.ShiftGraph(e.clientX - this.dragCoords.x, (this.dragCoords.y - e.clientY));\r\n\r\n        this.dragCoords = {\r\n          x: e.clientX,\r\n          y: e.clientY\r\n        }\r\n      }\r\n\r\n\r\n\r\n      this.waiting = true;\r\n      setTimeout(function () {\r\n        this.waiting = false;\r\n      }.bind(this), 1000 / this.timesPerSecond);\r\n\r\n    }\r\n\r\n  }\r\n  handleMouseUp(e) {\r\n    e.persist();\r\n    this.pointerEventArray = [];\r\n    for (let i = 0; i < this.pointerEventArray.length; i++) {\r\n      if (this.pointerEventArray[i].pointerId === e.pointerId) {\r\n        this.pointerEventArray.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (this.pointerEventArray.length < 2) {\r\n      this.prevPointDist = -1;\r\n    }\r\n\r\n    this.dragging = false\r\n\r\n  }\r\n  handleMouseOut() {\r\n    this.dragging = false\r\n    document.removeEventListener('wheel', this.preventDefault, false)\r\n  }\r\n\r\n\r\n  handleWheel(e) {\r\n    if (e.deltaY < 0) {\r\n      // Zoom in\r\n\r\n      graphObject.Scale(0.9);\r\n    }\r\n    else {\r\n      // Zoom out\r\n      graphObject.Scale(1.1);\r\n\r\n    }\r\n  }\r\n  handleResize() {\r\n    if (window.innerWidth !== this.windowWidth) { // makes resize only happen for width changes\r\n      this.windowWidth = window.innerWidth;\r\n      if (window.innerWidth < 992) { // if the window less than lg breakpoint\r\n        graphObject.WindowSizeChange(document.getElementById('graphwrapper').getBoundingClientRect().width, window.innerHeight * 0.5);\r\n\r\n      }\r\n      else {\r\n        graphObject.WindowSizeChange(window.innerWidth * 0.65, window.innerHeight);\r\n\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n\r\n      <div>\r\n\r\n        <canvas ref={this.graphCanvasRef} onPointerDown={this.handleMouseDown} onPointerMove={this.handleMouseMove}\r\n          onPointerUp={this.handleMouseUp} onPointerOut={this.handleMouseOut} onWheel={this.handleWheel} onPointerEnter={this.handleMouseEnter} className=\"graphCanvas\"> </canvas>\r\n\r\n        <canvas ref={this.timingCanvasRef} className=\"timingCanvas\"></canvas>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\nclass App extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    graphObject.expressions = [new expressionConstructor(\"0\", [-1000, 1000], \"#000000\")]; // array of objects that gets all info about a certain expression colour, value and domains.\r\n    // initialised here so component in charge of displaying colour will know what's going on\r\n\r\n  }\r\n  componentDidMount() {\r\n    graphObject.Setup();\r\n    graphObject.DrawAxes();\r\n    timingGraphObject.Setup();\r\n  }\r\n  render() {\r\n\r\n\r\n    return (\r\n\r\n      <div>\r\n        <Container fluid className=\"bg\">\r\n          <Nav fill className=\"topbar \">\r\n\r\n            <Nav.Item>\r\n\r\n              <BPS />\r\n\r\n            </Nav.Item>\r\n            <Nav.Item>\r\n\r\n              <TBB />\r\n\r\n            </Nav.Item>\r\n\r\n          </Nav>\r\n\r\n          <Row>\r\n            <Col xs={12} lg={{ span: 4, order: 'first' }}>\r\n\r\n\r\n              <AllInputs />\r\n\r\n\r\n            </Col>\r\n\r\n            <Col xs={{ span: 12, order: 'first' }} lg={8} className=\"graphColumn\">\r\n              <div id=\"graphwrapper\">\r\n                <Graphs />\r\n\r\n              </div>\r\n\r\n            </Col>\r\n\r\n\r\n          </Row>\r\n\r\n\r\n\r\n        </Container>\r\n\r\n\r\n      </div >\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//#endregion\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App.js';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}